# gh-pr-update

## Мотивация
Часто при работе над большими проектами с частыми релизами, возникает потребность обновлять свои
ветки разработки относительно `master`, а если еще есть цепочки PR, то это работа становится
максимально однообразной и скучной. Данный скрипт решает данную проблему.

Фичи:
- возможность выбора конкретного PR или всех сразу
- остановка обновления при наличии конфликтов
- обновление графа веток
- запись веток с конфликтами в отдельный файл для быстрого переключения
- предупреждение о не закомиченных файлах

> git push выполняется с флагом --no-verify

## Зависимости
- [GitHub CLI](https://cli.github.com/)
- [fzf](https://github.com/junegunn/fzf)
- [jq](https://stedolan.github.io/jq/)

Так же нужно задать переменные окружения в ваш `bash.rc`:
- `GH_PR_UPDATE_API` - API GitHub (не обязательно, default: https://api.github.com)
- `GH_PR_UPDATE_REPO` - овнер и репозиторий

Пример:

```bashrc
export GH_PR_UPDATE_API=https://api.github.com
export GH_PR_UPDATE_REPO=moonw1nd/gh-pr-update
```
## Быстрое переключение на ветки с конфлитами
В репозитории есть так же простенький скрипт для переключения на ветки с конфликтами: `checkout-conflict-branch.sh`

### Todo
- поддержать возможность обновления с помощью rebase
- возможность задания опций для `git push`, таких как `--no-verify`
- поддержка нескольких репозиториев
- перехать с gh cli на чисто использование API
